name: Force Reboot Machine

on: 
  workflow_dispatch: 

jobs:
  reboot:
    runs-on: self-hosted
    steps:
      - name: Execute Force Reboot
        # 改用 cmd，这是所有 Windows 都会自带的
        shell: cmd
        run: |
          shutdown /r /f /t 10 /c "Restarting to recover remote access"
          echo Reboot command issued. The machine should restart in 10 seconds.
